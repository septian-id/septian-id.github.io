<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	<link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="assets/toastr/toastr.min.css">
	<style type="text/css">
		.header{
			width:100%;
			height:150px;
			left:-3%;
			border-top-left-radius:0px;
			border-top-right-radius:0px;
			border-bottom-left-radius: 50% 20%;
			border-bottom-right-radius: 50% 20%;
			color: #FFF;
		}
		.lgreen{background-image: linear-gradient(#4caf50, #fff);}
		.lblue{background-image: linear-gradient(#2196f3, #fff);}
		.lamber{background-image: linear-gradient(#ffc107, #fff);}
		.lred{background-image: linear-gradient(#f44336, #fff);}
		a{text-decoration: none;}
		input{outline:none;}

		
	</style>
</head>
<body>
	<script type="text/javascript" src="assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="assets/toastr/toastr.min.js"></script>
	<div class="header lblue">
		<div class="container padding-small small">
			<b class="text-white"><i class="fa fa-wifi"></i></b>
			<b id="hotspot_name">-</b>
			<b class="right" id="date">-/-/-</b><br>
			<span class="right" id="time">-:-:-</span>
		</div>
	</div>
	<div class="navbar container margin-top">
		<div class="row">
			<a href="#user" class="nav col s4 center round border-left border-top border-right">User</a>
			<a href="#admin" class="nav col s4 center round border-bottom">Admin</a>
			<a href="#paket" class="nav col s4 center round border-bottom">Bantuan</a>
		</div>
		<div class="page animate-left" id="user">
			<p align="center">Masuk untuk terhubung ke internet.</p>
			<input type="text" id="txt_user" class="input border round" placeholder="Username">
			<button id="btn_user" class="button block border round border-blue margin-top">Masuk</button>
		</div>
		<div class="page hide" id="admin">
			<p align="center">Masuk menggunakan akun administrator.</p>
			<input type="text" id="txt_admin" class="input border round" placeholder="Username">
			<input type="text" id="psw_admin" class="input border round margin-top" placeholder="Password">
			<button id="btn_admin" class="button block border round border-blue margin-top">Masuk</button>
		</div>
		<div class="page hide" id="help">
			<p align="center">Jika anda tidak dapat masuk, Silahkan periksa terlebih dahulu satatus akun anda.</p>
		</div>
	</div>

	<script type="text/javascript">
		$(document).ready(function(){
			//`${link_login_only}?username=${txt_user.value}&password=${txt_user.value}&link-orig=${dst}&chap-id=${chap_id}&chap-challenge=${chap_challenge}&link-orig-esc=${link_orig_esc}&mac-esc=${mac_esc}`
			var url = new URL(window.location);
			var login = url.searchParams.get('login');
			var error = url.searchParams.get('error');
			var link_login_only = url.searchParams.get('link-login-only');
			var dst = url.searchParams.get('dst');
			var popup = url.searchParams.get('popup');
			var chap_id = url.searchParams.get('chap-id');
			var chap_challenge = url.searchParams.get('chap-challenge');
			var link_orig_esc = url.searchParams.get('link-orig-esc');
			var mac_esc = url.searchParams.get('mac-esc');
			var username = url.searchParams.get('username');
			var hotspot_name = url.searchParams.get('hotspot-name');

			$(".nav").click(function(){
				var nav = $(".nav");
				var page = $(".page");
				for(n=0; n<nav.length; n++){
					$(nav[n]).attr("index", n);
					$(nav[n]).removeClass("border-left border-top border-right border-bottom");
					$(nav[n]).addClass("border-bottom");
					$(page[n]).addClass("hide");
				}
				//console.log($(this).attr("index"));
				$(this).addClass("border-left border-top border-right");
				$(this).removeClass("border-bottom");
				$(page[this.getAttribute("index")]).removeClass("hide");
				$(page[this.getAttribute("index")]).addClass("animate-left");
			});


			$("#hotspot_name").html(hotspot_name);
			$("#btn_user").click(function(){
				if($("#txt_user").val() == ""){
					$("#txt_user").focus();
					$("#txt_user").addClass("border-red");
				}else{
					var txt_user = $("#txt_user").val();
					window.location.href = `${link_login_only}?username=${txt_user}&password=${txt_user}&link-orig=${dst}&chap-id=${chap_id}&chap-challenge=${chap_challenge}&link-orig-esc=${link_orig_esc}&mac-esc=${mac_esc}`;
				}
			});

			$("#btn_admin").click(function(){
				if($("#txt_admin").val() == ""){
					$("#txt_admin").focus();
					$("#txt_admin").addClass("border-red");
				}else if($("#psw_admin").val() == ""){
					$("#psw_admin").focus();
					$("#psw_admin").addClass("border-red");
				}else{
					var txt_admin = $("#txt_admin").val();
					var psw_admin = $("#psw_admin").val();
					window.location.href = `${link_login_only}?username=${txt_admin}&password=${psw_admin}&link-orig=${dst}&chap-id=${chap_id}&chap-challenge=${chap_challenge}&link-orig-esc=${link_orig_esc}&mac-esc=${mac_esc}`;
				}
			});
		});


		function showTime() {
			var a_p = "";
			var today = new Date();
			var curr_hour = today.getHours();
			var curr_minute = today.getMinutes();
			var curr_second = today.getSeconds();
			if (curr_hour < 12) {
				a_p = "AM";
			} else {
				a_p = "PM";
			}
			if (curr_hour == 0) {
				curr_hour = 12;
			}
			if (curr_hour > 12) {
				curr_hour = curr_hour - 12;
			}
			curr_hour = checkTime(curr_hour);
			curr_minute = checkTime(curr_minute);
			curr_second = checkTime(curr_second);
			document.getElementById('time').innerHTML=curr_hour + ":" + curr_minute + ":" + curr_second + " " + a_p;
		}

		function checkTime(i) {
			if (i < 10) {
				i = "0" + i;
			}
			return i;
		}

		setInterval(showTime, 500);

		var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
		var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];
		var date = new Date();
		var day = date.getDate();
		var month = date.getMonth();
		var thisDay = date.getDay(),
		thisDay = myDays[thisDay];
		var yy = date.getYear();
		var year = (yy < 1000) ? yy + 1900 : yy;
		document.getElementById('date').innerHTML = thisDay + ', ' + day + ' ' + months[month] + ' ' + year;
	</script>
	<noscript>Sorry, your browser does not support JavaScript!</noscript>
</body>
</html>